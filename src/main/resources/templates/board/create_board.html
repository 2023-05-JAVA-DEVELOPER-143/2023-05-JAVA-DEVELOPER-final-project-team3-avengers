<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
 xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
 layout:decorate="layout/layout(title='글쓰기')">
  <!-- Body-->
	  <!-- Header -->
<head>
	<style>
            #container {
                width: 1000px;
                margin: 20px auto;
            }
            .ck-editor__editable[role="textbox"] {
                /* editing area */
                min-height: 200px;
            }
            .ck-content .image {
                /* block images */
                max-width: 80%;
                margin: 20px auto;
            }
        </style>
</head>
<body>
      <!-- Page Content-->
        <th:block layout:fragment="content">
      <!-- Main Slider-->
      <section class="hero-slider" style="background-image: url(img/hero-slider/main-bg.jpg);">
       <div class="container padding-bottom-2x">
			<div class="row">
				<div class="col-lg-9 col-md-8 order-md-2">
					<h6 class="text-muted text-normal text-uppercase margin-top-2x">게시판 글쓰기</h6>
					<hr class="margin-bottom-1x">
					<form action="show.html" th:action th:object="${board}" method="POST" onsubmit="validateForm()">
						<div class="form-group row">
								<label class="col-2 col-form-label" for="select-input">필수선택</label>
								<div class="col-10">
									<select class="form-control" id="select-input" th:field="*{boardGroupId}">
										<option value="">게시판을 선택하세요..</option>
										<option value="1">자유게시판</option>
										<option value="2">1:1문의</option>
										<option th:if="${board.isAdmin} eq 2" value="3">공지사항</option>
										<option th:if="${board.isAdmin} eq 2" value="4">자주묻는질문</option>
									</select>
								</div>
						</div>
						<div class="form-group row">
							<label class="col-2 col-form-label" for="text-input">제목</label>
							<div class="col-10">
								<input class="form-control" type="text" id="text-input" th:field="*{title}"
									placeholder="제목을 입력하세요.">
							</div>
						</div>
						<textarea th:field="*{content}" id="editor" ></textarea>
						<hr class="my-4">
<script>
  function validateForm() {
    let boardGroupId = '[[${boardGroupId}]]';
    let title = '[[${title}]]';
    let content = document.querySelector("#editor").value;

    if (boardGroupId === null || boardGroupId === "") {
      window.alert("게시판을 선택하세요.");
      event.preventDefault();
      return false;
    }

    if (title === null || title === "") {
      window.alert("제목을 입력하세요.");
      event.preventDefault();
      return false;
    }

    if (content === null || content === "") {
      window.alert("내용을 입력하세요.");
      event.preventDefault();
      return false;
    }
    
    return false;
  }
</script>

						<div class="row">
							<div class="col">
								<input type="hidden" id="memberId" name ="memberId"th:value="${1}">
								
								<button class="w-100 btn btn-primary btn-lg" type="submit">등록</button>
							</div>
							<div class="col">
								<button class="w-100 btn btn-secondary btn-lg"
									onclick="history.back()" >돌아가기</button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
		
 <script>
    ClassicEditor
        .create( document.querySelector( '#editor' ) )
        .catch( error => {
            console.error( error );
        } );
</script>



      </section>
    
	</th:block>    
 <th:block layout:fragment="recommendation"></th:block>
 <th:block layout:fragment="script">
	 
 </th:block>
  </body>
</html>